(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.d({},{ku:()=>p,Xy:()=>S,YE:()=>k,iR:()=>b,Su:()=>A,sW:()=>L});var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._score=0,this._sign=""}var n,r,i;return n=e,i=[{key:"setActive",value:function(e){this.active=e}},{key:"toggleActive",value:function(e,t){this.active=this.active===e?t:e}}],(r=[{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"score",get:function(){return this._score}},{key:"sign",get:function(){return this._sign},set:function(e){this._sign=e}},{key:"increaseScore",value:function(){this._score++}},{key:"resetScore",value:function(){this._score=0}}])&&t(n.prototype,r),i&&t(n,i),e}(),r=new n("Player-1"),i=new n("Player-2");const o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e?n.forEach((function(e){return e.classList.add("active")})):n.forEach((function(e){return e.classList.remove("active")}))},c=function(e,t,n){e===t?(o(!0,S),o(!1,b)):e===n?(o(!0,b),o(!1,S)):o(!1,S,b)},a=function(){k.innerHTML=r.score,A.innerHTML=i.score};var u=function(){for(;L.firstChild;)L.removeChild(L.firstChild)};function s(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=[],v=0,d=function(){l.length=0},y=function(){s(p.childNodes).forEach((function(e){e.innerHTML="",o(!1,e)}))},h=function(){n.active.increaseScore(),p.removeEventListener("click",g),a(),L.innerHTML="".concat(n.active.name," wins! His sign is ").concat(n.active.sign,"."),v=0},m=function(){!function(){for(var e=0;e<9;e+=3)if(l[e]===l[e+1]&&l[e+1]===l[e+2]&&l[e]){var t=s(p.childNodes);o(!0,t[e],t[e+1],t[e+2]),h();break}}(),function(){for(var e=0;e<3;e++)if(l[e]===l[e+3]&&l[e+3]===l[e+6]&&l[e]){var t=s(p.childNodes);o(!0,t[e],t[e+3],t[e+6]),h();break}}(),function(){if(l[0]===l[4]&&l[0]===l[8]&&l[0]){var e=s(p.childNodes);o(!0,e[0],e[4],e[8]),h()}}(),function(){if(l[2]===l[4]&&l[2]===l[6]&&l[2]){var e=s(p.childNodes);o(!0,e[2],e[4],e[6]),h()}}(),9===v&&(L.innerHTML="Draw! Try again.",v=0)},g=function(e){var t=e.target.dataset.cell,o=l[t-1];if(e.target.hasAttribute("data-cell")&&!o){var a=n.active.sign;!function(e,t){e.target.textContent="".concat(t)}(e,a),function(e,t){l[e-1]=t}(t,a),v++,m(),n.toggleActive(r,i),c(n.active,r,i)}},p=document.querySelector("#game-field"),S=document.querySelector("#player1"),b=document.querySelector("#player2"),k=document.querySelector("#player1Score"),A=document.querySelector("#player2Score"),L=document.querySelector("#results"),E=document.querySelector("#start"),w=document.querySelector("#reset");S.addEventListener("change",(function(){r.name=S.value.trim()})),b.addEventListener("change",(function(){i.name=b.value.trim()})),E.addEventListener("click",(function(){var e=1===Math.floor(2*Math.random())+1?r:i;n.setActive(e),function(e,t,n){e===t?(t.sign="x",n.sign="o"):(n.sign="x",t.sign="o")}(e,r,i),c(n.active,r,i),d(),y(),u(),p.addEventListener("click",g)})),w.addEventListener("click",(function(){n.setActive({}),r.resetScore(),i.resetScore(),c(n.active,r,i),a(),d(),y(),p.removeEventListener("click",g),u()}))})();